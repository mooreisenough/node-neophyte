{"version":3,"sources":["../es6/block-scoping.js"],"names":[],"mappings":"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","file":"block-scoping-babel.js","sourcesContent":["(function() {\n\t'use strict';\n\n\tfunction simpleExample(value) {\n\t\tconst constValue = value;\n\n\t\tif (value) {\n\t\t\tvar varValue = value;\n\t\t\tlet letValue = value;\n\n\t\t\tconsole.log('inside block', varValue, letValue);\n\t\t}\n\n\t\tconsole.log('outside block');\n\n\t\t// varValue is available even though it was defined\n\t\t// in if-block because it was \"hoisted\" to function scope\n\t\tconsole.log(varValue);\n\n\t\ttry {\n\t\t\t// letValue is a ReferenceError because it\n\t\t\t// was defined w/in if-block\n\t\t\tconsole.log(letValue);\n\t\t}\n\t\tcatch (e) {\n\t\t\t// e is a ReferenceError\n\t\t\tconsole.log('letValue not accessible', e);\n\t\t}\n\n\t\t// SyntaxError to try and update a variable\n\t\t// declared via const\n\t\t//constValue += 1;\n\t}\n\n\tfunction varExample() {\n\t\tvar myVar = 7;\n\n\t\tconsole.log('myVar after declaration', myVar);\n\n\t\t// even though laterVar is defined later on in the function\n\t\t// it is \"hoisted\" to the beginning of the function &\n\t\t// initialized to undefined. In most C-style languages this would\n\t\t// be an error.\n\t\tconsole.log('laterVar before declaration', laterVar);\n\n\t\tlaterVar = 10;\n\n\t\t// image some legitimate conditional\n\t\tif (myVar < 20) {\n\t\t\t// accidental redefintion of myVar results\n\t\t\t// in outer defined myVar being reassigned\n\t\t\t// to 'foo'\n\t\t\tvar myVar = 'foo';\n\t\t\tvar innerVar = true;\n\n\t\t\tconsole.log('myVar inside block', myVar);\n\t\t}\n\n\t\t// since this declaration was \"hoisted\", it's as if it's no\n\t\t// longer here but at the top of the function\n\t\tvar laterVar;\n\n\t\t// looking at the code laterVar *should* be undefined,\n\t\t// but it has the value 10 from earlier\n\t\tconsole.log('laterVar after declaration', laterVar);\n\n\t\t// we would expect myVar to still be 7\n\t\t// but it was redefined and overwritten\n\t\t// w/in the conditional\n\t\tconsole.log('myVar outside block', myVar === 7);\n\n\t\t// we would expect innerVar to no longer be accessible\n\t\t// since it was defined w/in the if-block, but it was\n\t\t// \"hoisted\" as well\n\t\tconsole.log('innerVar outside block', innerVar);\n\t}\n\n\tfunction letExample(value) {\n\t\tif (value) {\n\t\t\tlet letValue = value;\n\n\t\t\tconsole.log('inside block', letValue);\n\n\t\t\t// redeclaration of letValue would be a TypeError\n\t\t\t// let letValue = 'foo';\n\t\t}\n\n\t\ttry {\n\t\t\t// Accessing letValue is a ReferenceError because it\n\t\t\t// was defined w/in if-block\n\t\t\tconsole.log(letValue);\n\n\t\t\t// if we get here, it means that the JS engine didn't\n\t\t\t// throw an exception, which means that the engine\n\t\t\t// (or transpiled code) did not faithfully reproduce\n\t\t\t// how let should work\n\t\t\tconsole.log('let not faithfully handled');\n\t\t}\n\t\tcatch (e) {\n\t\t\t// e is a ReferenceError\n\t\t\tconsole.log('letValue not accessible', e);\n\t\t}\n\t}\n\n\tfunction letShadowExample() {\n\t\tlet x = 15;\n\n\t\tif (true) {\n\t\t\t// this x \"shadows\" the x defined in the outer scope.\n\t\t\t// this new x just exists within the scope of the\n\t\t\t// if-block\n\t\t\tlet x = 21;\n\n\t\t\t// x should be 21\n\t\t\tconsole.log('x inner block', x);\n\t\t}\n\n\t\t// x should be 15\n\t\tconsole.log('x outer block', x);\n\t}\n\n\tfunction constExample() {\n\t\tconst NAME_KEY = 'name';\n\t\tconst UNFROZEN_OBJ_CONST = {key: 'adam', val: 'eve'};\n\t\tconst FROZEN_OBJ_CONST = Object.freeze({key: 'jesus', val: 'paul'});\n\n\t\t// All const declarations must be initialized.\n\t\t// It's a SyntaxError otherwise\n\t\t// const VALUE_KEY;\n\n\t\t// Const variables are read-only, so trying to\n\t\t// reassign is a SyntaxError too\n\t\t// NAME_KEY = 'key';\n\n\t\t// GOTCHA: even though the object is const, you can still\n\t\t// change properties of it. It's the variable\n\t\t// that cannot be reassigned\n\t\tUNFROZEN_OBJ_CONST.key = 'moses';\n\n\t\t// by freezing the object, using ES5 Object.freeze\n\t\t// its properties cannot be changed.\n\t\t// in strict mode this a TypeError. In non-strict\n\t\t// mode the value silently doesn't change\n\t\t// FROZEN_OBJ_CONST.val = 'peter';\n\n\t\tconsole.log('const value', NAME_KEY);\n\t\tconsole.log('unfrozen object', UNFROZEN_OBJ_CONST);\n\t\tconsole.log('frozen object', FROZEN_OBJ_CONST);\n\t}\n\n\tfunction temporalDeadZoneExample() {\n\t\t// TDZ for `value` begins\n\n\t\tconst func = function() {\n\t\t\t// Even though this function is defined *before*\n\t\t\t// `value` in the code, it's not called until after\n\t\t\t// `value` is declared, so accessing it is OK.\n\t\t\tconsole.log('value is: ', value);\n\t\t}\n\n\t\t// TDZ for `value` continues. Accessing `value`\n\t\t// here would be a ReferenceError. Calling `func`\n\t\t// here would cause a ReferenceError.\n\n\t\t// TDZ ends with declaration of `value`\n\t\tlet value = 'foo';\n\n\t\t// no longer in TDZ when calling function so now\n\t\t// any access of `value` is ok\n\t\tfunc();\n\t}\n\n\tfunction simpleLoopExample () {\n\t\tfor (var i = 0; i < 5; i++) {\n\t\t\tconsole.log('i=', i);\n\t\t}\n\t\tfor (let j = 0; j < 5; j++) {\n\t\t\tconsole.log('j=', j);\n\t\t}\n\n\t\t// i is accessible outside of the for loop\n\t\t// and has the value 5\n\t\tconsole.log('after i=', i);\n\n\t\t// j is not accessible outside of the for loop\n\t\t// and is a ReferenceError\n\t\t//console.log('after j=', j);\n\t}\n\n\tfunction callbackLoopVarExample() {\n\t\tvar $body = $('body');\n\n\t\tfor (var i = 0; i < 5; i++) {\n\t\t\t// create 5 buttons with the index in the name\n\t\t\tvar $button = $('<button>var ' + i + '</button>');\n\n\t\t\t// wire click handler w/ callback using arrow function!\n\t\t\t$button.click(\n\t\t\t\t// BUG! When button is clicked, the value of `i` is 5!\n\t\t\t\t() => console.log('var button ' + i + ' clicked!')\n\t\t\t);\n\n\t\t\t// add button to the body\n\t\t\t$body.append($button);\n\t\t}\n\t}\n\n\tfunction callbackLoopNamedFunctionExample() {\n\t\tvar $body = $('body');\n\n\t\t// Create a named function passing in the loop iteration variable\n\t\t// which creates a unique scope for each iteration so\n\t\t// that the callback function binds to its own variable.\n\t\tvar loop = function(index) {\n\t\t\t// create 5 buttons with the index in the name\n\t\t\tvar $button = $('<button>function ' + index + '</button>');\n\n\t\t\t// wire click handler w/ callback using arrow function!\n\t\t\t$button.click(\n\t\t\t\t// Fixed! `index` is unique per iteration\n\t\t\t\t() => console.log('function button ' + index + ' clicked!')\n\t\t\t);\n\n\t\t\t// add button to the body\n\t\t\t$body.append($button);\n\t\t}\n\n\t\tfor (var i = 0; i < 5; i++) {\n\t\t\tloop(i);\n\t\t} \n\t}\n\n\tfunction callbackLoopLetExample() {\n\t\tlet $body = $('body');\n\n\t\tfor (let i = 0; i < 5; i++) {\n\t\t\t// create 5 buttons with the index in the name\n\t\t\tlet $button = $('<button>let ' + i + '</button>');\n\n\t\t\t// wire click handler w/ callback using arrow function!\n\t\t\t$button.click(\n\t\t\t\t// Fixed! `i` is a different variable declaration for\n\t\t\t\t// each iteration of the loop as one would expect!\n\t\t\t\t() => console.log('let button ' + i + ' clicked!')\n\t\t\t);\n\n\t\t\t// add button to the body\n\t\t\t$body.append($button);\n\t\t}\n\t}\n\n\tfunction parameterExample(values) {\n\t\t// redeclaration of a function parameter\n\t\t// is a TypeError\n\t\t// let values = [];\n\n\t\t{\n\t\t\t// this let declaration of `values` shadows\n\t\t\t// the `values` parameter\n\t\t\tlet values = [];\n\n\t\t\tconsole.log(values); // []\n\t\t}\n\n\t\t// `values` here is the parameter value\n\t\tconsole.log(values);\n\t}\n\n\tsimpleExample(2);\n\tvarExample();\n\tletExample(2);\n\tletShadowExample();\n\tconstExample();\n\ttemporalDeadZoneExample();\n\tsimpleLoopExample();\n\tcallbackLoopVarExample();\n\tcallbackLoopNamedFunctionExample();\n\tcallbackLoopLetExample();\n\tparameterExample([2,3,16]);\n}) ();"]}